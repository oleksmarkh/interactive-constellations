webpackJsonp([0],[,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(3);n.detectWebglSupport()?r.default(document.getElementById("container")):console.warn("WebGL is not supported")},function(e,t,i){"use strict";function n(){try{var e=document.createElement("canvas");return Boolean(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.detectWebglSupport=n},function(e,t,i){"use strict";function n(e){var t=new s.default,i=new s.WorldView(e,r.default,t);i.mount(),i.run(),r.default.debug.expose&&(window.worldView=i,console.log(i),console.log(i.config))}Object.defineProperty(t,"__esModule",{value:!0});var r=i(4),s=i(5);t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={debug:{stats:!0,expose:!0,helpers:{axes:!0}},renderer:{antialias:!0},camera:{frustum:{size:300,near:.1,far:1e3},distance:750},resizeDebouncePeriod:400};t.default=n},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),a=i(0),o=i(9),u=i(10),c={leading:!0,trailing:!1},l={leading:!1,trailing:!0},h=function(){function e(t,i,r){n(this,e),this.element=t,this.config=i,this.world=r,console.log(this.world),this.renderer=this.createRenderer(),this.scene=new a.Scene,this.camera=new o.default(this.element,this.config),this.stats=this.createStats(),this.helpers=this.createHelpers(),this.isAnimating=!1,this.animate=this.animate.bind(this),this.onResizeLeading=s.debounce(this.onResizeLeading.bind(this),this.config.resizeDebouncePeriod,c),this.onResizeTrailing=s.debounce(this.onResizeTrailing.bind(this),this.config.resizeDebouncePeriod,l)}return r(e,[{key:"mount",value:function(){this.stats&&this.stats.mount(),this.element.appendChild(this.renderer.domElement),this.subscribeToDomEvents()}},{key:"unmount",value:function(){this.stats&&this.stats.unmount(),this.element.removeChild(this.renderer.domElement),this.unsubscribeFromDomEvents()}},{key:"render",value:function(){this.stats&&this.stats.render(),this.renderer.render(this.scene,this.camera.orthographicCamera)}},{key:"run",value:function(){this.addHelpers(),this.playAnimation()}},{key:"reloadConfig",value:function(){this.camera.reloadConfig(),this.config.debug.stats&&!this.stats?(this.stats=this.createStats(),this.stats.mount()):!this.config.debug.stats&&this.stats&&(this.stats.unmount(),this.stats=null),this.removeHelpers(),this.helpers=this.createHelpers(),this.addHelpers()}},{key:"subscribeToDomEvents",value:function(){window.addEventListener("resize",this.onResizeLeading),window.addEventListener("resize",this.onResizeTrailing)}},{key:"unsubscribeFromDomEvents",value:function(){window.removeEventListener("resize",this.onResizeLeading),window.removeEventListener("resize",this.onResizeTrailing)}},{key:"onResizeLeading",value:function(){this.pauseAnimation()}},{key:"onResizeTrailing",value:function(){this.camera.update(),this.updateRenderer(this.renderer),this.playAnimation()}},{key:"animate",value:function(){this.isAnimating&&requestAnimationFrame(this.animate),this.render()}},{key:"pauseAnimation",value:function(){this.isAnimating=!1}},{key:"playAnimation",value:function(){this.isAnimating=!0,this.animate()}},{key:"createRenderer",value:function(){var e=new a.WebGLRenderer({alpha:!0,antialias:this.config.renderer.antialias,devicePixelRatio:window.devicePixelRatio});return this.updateRenderer(e),e}},{key:"updateRenderer",value:function(e){e.setPixelRatio(window.devicePixelRatio),e.setSize(this.element.clientWidth,this.element.clientHeight)}},{key:"getPositionFromDomCoords",value:function(e){var t=new a.Vector2(e.x/this.element.clientWidth*2-1,-e.y/this.element.clientHeight*2+1),i=this.camera.getFrustum(),n=i.right,r=i.top;return t.multiply(new a.Vector2(n,r))}},{key:"createStats",value:function(){return this.config.debug.stats?new u.default(this.element):null}},{key:"createHelpers",value:function(){var e={};if(this.config.debug.helpers.axes){var t=this.getPositionFromDomCoords(new a.Vector2(this.renderer.getSize().width,0)),i=t.x,n=t.y;e.axes=new a.AxesHelper(Math.max(i,n))}return e}},{key:"addHelpers",value:function(){var e=this;s.forEach(this.helpers,function(t){return e.scene.add(t)})}},{key:"removeHelpers",value:function(){var e=this;s.forEach(this.helpers,function(t){return e.scene.remove(t)})}}]),e}();t.WorldView=h;var d=function e(){n(this,e)};t.default=d},,,,function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=i(0),a=function(){function e(t,i){n(this,e),this.element=t,this.config=i;var r=this.getFrustum(),a=r.left,o=r.right,u=r.top,c=r.bottom,l=r.near,h=r.far;this.orthographicCamera=new s.OrthographicCamera(a,o,u,c,l,h),this.orthographicCamera.position.z=this.config.camera.distance}return r(e,[{key:"reloadConfig",value:function(){this.orthographicCamera.position.z=this.config.camera.distance,this.update()}},{key:"getFrustum",value:function(){var e=this.config.camera.frustum,t=e.size,i=e.near,n=e.far,r=this.element.clientWidth/this.element.clientHeight,s=t*r/2,a=t/2;return{left:-s,right:s,top:a,bottom:-a,near:i,far:n}}},{key:"update",value:function(){var e=this.getFrustum(),t=e.left,i=e.right,n=e.top,r=e.bottom;this.orthographicCamera.left=t,this.orthographicCamera.right=i,this.orthographicCamera.top=n,this.orthographicCamera.bottom=r,this.orthographicCamera.updateProjectionMatrix()}}]),e}();t.default=a},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=i(11),a=function(){function e(t){n(this,e),this.element=t,this.statsWidget=new s}return r(e,[{key:"mount",value:function(){this.element.appendChild(this.statsWidget.dom)}},{key:"unmount",value:function(){this.element.removeChild(this.statsWidget.dom)}},{key:"render",value:function(){this.statsWidget.update()}}]),e}();t.default=a}],[1]);