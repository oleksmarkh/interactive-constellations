webpackJsonp([0],[,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(4);i.detectWebglSupport()?r.default(document.getElementById("container")):console.warn("WebGL is not supported")},function(e,t,n){"use strict";function i(){try{var e=document.createElement("canvas");return Boolean(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.detectWebglSupport=i},function(e,t,n){"use strict";function i(e){var t=new o.default,n=new o.WorldView(e,r.default,t);n.mount(),n.run(),r.default.debug.expose&&(window.worldView=n,console.log(n),console.log(n.config))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=n(6);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={debug:{stats:!0,expose:!0,helpers:{center:!0,mouse:!0}},renderer:{antialias:!0},camera:{frustum:{size:300,near:.1,far:1e3},distance:750},resizeFrequency:400,colors:{helpers:{mouse:11141290}}};t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=n(9),u=n(10),c=n(11),h=n(13),l=function(){function e(t,n,r){i(this,e),this.element=t,this.config=n,this.world=r,console.log(this.world),this.renderer=this.createRenderer(),this.scene=new s.Scene,this.camera=new u.default(this.element,this.config),this.stats=this.config.debug.stats?new c.default(this.element):null,this.mouse=new s.Vector2(10,10),this.helpers=this.createHelpers(),this.isAnimating=!1,this.animate=this.animate.bind(this),this.onResizeLeading=a.debounceLeading(this.onResizeLeading.bind(this),this.config.resizeFrequency),this.onResizeTrailing=a.debounceTrailing(this.onResizeTrailing.bind(this),this.config.resizeFrequency),this.onMouseMove=this.onMouseMove.bind(this)}return r(e,[{key:"mount",value:function(){this.stats&&this.stats.mount(),this.element.appendChild(this.renderer.domElement),this.subscribeToDomEvents()}},{key:"unmount",value:function(){this.stats&&this.stats.unmount(),this.element.removeChild(this.renderer.domElement),this.unsubscribeFromDomEvents()}},{key:"render",value:function(){this.stats&&this.stats.render(),this.renderer.render(this.scene,this.camera.orthographicCamera)}},{key:"run",value:function(){this.addHelpers(),this.playAnimation()}},{key:"reloadConfig",value:function(){this.camera.reloadConfig(),this.config.debug.stats&&!this.stats?(this.stats=new c.default(this.element),this.stats.mount()):!this.config.debug.stats&&this.stats&&(this.stats.unmount(),this.stats=null),this.removeHelpers(),this.helpers=this.createHelpers(),this.addHelpers()}},{key:"subscribeToDomEvents",value:function(){window.addEventListener("resize",this.onResizeLeading),window.addEventListener("resize",this.onResizeTrailing),this.element.addEventListener("mousemove",this.onMouseMove)}},{key:"unsubscribeFromDomEvents",value:function(){window.removeEventListener("resize",this.onResizeLeading),window.removeEventListener("resize",this.onResizeTrailing),this.element.removeEventListener("mousemove",this.onMouseMove)}},{key:"onResizeLeading",value:function(){this.pauseAnimation()}},{key:"onResizeTrailing",value:function(){this.camera.update(),this.updateRenderer(this.renderer),this.playAnimation()}},{key:"onMouseMove",value:function(e){this.mouse.copy(this.getPositionFromDomCoords(new s.Vector2(e.offsetX,e.offsetY))),this.helpers.mouse&&this.helpers.mouse.update()}},{key:"animate",value:function(){this.isAnimating&&requestAnimationFrame(this.animate),this.render()}},{key:"pauseAnimation",value:function(){this.isAnimating=!1}},{key:"playAnimation",value:function(){this.isAnimating=!0,this.animate()}},{key:"createRenderer",value:function(){var e=new s.WebGLRenderer({alpha:!0,antialias:this.config.renderer.antialias,devicePixelRatio:window.devicePixelRatio});return this.updateRenderer(e),e}},{key:"updateRenderer",value:function(e){e.setPixelRatio(window.devicePixelRatio),e.setSize(this.element.clientWidth,this.element.clientHeight)}},{key:"getPositionFromDomCoords",value:function(e){var t=new s.Vector2(e.x/this.element.clientWidth*2-1,-e.y/this.element.clientHeight*2+1),n=this.camera.getFrustum(),i=n.right,r=n.top;return t.multiply(new s.Vector2(i,r))}},{key:"createHelpers",value:function(){var e={};if(this.config.debug.helpers.center){var t=new s.Vector2(this.renderer.getSize().width,0);e.center=new h.CenterHelper(this.getPositionFromDomCoords(t))}return this.config.debug.helpers.mouse&&(e.mouse=new h.MouseHelper(this.mouse,this.config)),e}},{key:"addHelpers",value:function(){var e=this;o.forEach(this.helpers,function(t){return e.scene.add(t.object)})}},{key:"removeHelpers",value:function(){var e=this;o.forEach(this.helpers,function(t){return e.scene.remove(t.object)})}}]),e}();t.WorldView=l;var d=function e(){i(this,e)};t.default=d},,,function(e,t,n){"use strict";function i(e,t){return o.debounce(e,t,{leading:!0,trailing:!1})}function r(e,t){return o.debounce(e,t,{leading:!1,trailing:!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.debounceLeading=i,t.debounceTrailing=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(){function e(t,n){i(this,e),this.element=t,this.config=n;var r=this.getFrustum(),s=r.left,a=r.right,u=r.top,c=r.bottom,h=r.near,l=r.far;this.orthographicCamera=new o.OrthographicCamera(s,a,u,c,h,l),this.orthographicCamera.position.z=this.config.camera.distance}return r(e,[{key:"reloadConfig",value:function(){this.orthographicCamera.position.z=this.config.camera.distance,this.update()}},{key:"getFrustum",value:function(){var e=this.config.camera.frustum,t=e.size,n=e.near,i=e.far,r=this.element.clientWidth/this.element.clientHeight,o=t*r/2,s=t/2;return{left:-o,right:o,top:s,bottom:-s,near:n,far:i}}},{key:"update",value:function(){var e=this.getFrustum(),t=e.left,n=e.right,i=e.top,r=e.bottom;this.orthographicCamera.left=t,this.orthographicCamera.right=n,this.orthographicCamera.top=i,this.orthographicCamera.bottom=r,this.orthographicCamera.updateProjectionMatrix()}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),s=function(){function e(t){i(this,e),this.element=t,this.statsWidget=new o}return r(e,[{key:"mount",value:function(){this.element.appendChild(this.statsWidget.dom)}},{key:"unmount",value:function(){this.element.removeChild(this.statsWidget.dom)}},{key:"render",value:function(){this.statsWidget.update()}}]),e}();t.default=s},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=new o.Vector3,a=function e(t){var n=t.x,r=t.y;i(this,e),this.object=new o.AxesHelper(Math.max(n,r)),this.object.name="axes helper"};t.CenterHelper=a;var u=function(){function e(t,n){i(this,e),this.mouse=t,this.config=n,this.object=new o.ArrowHelper(new o.Vector3(this.mouse.x,this.mouse.y,0).normalize(),s,this.mouse.length(),this.config.colors.helpers.mouse),this.object.name="mouse helper"}return r(e,[{key:"update",value:function(){this.object.setDirection(new o.Vector3(this.mouse.x,this.mouse.y,0).normalize()),this.object.setLength(this.mouse.length())}},{key:"reloadConfig",value:function(){this.object.setColor(this.config.colors.helpers.mouse)}}]),e}();t.MouseHelper=u}],[2]);